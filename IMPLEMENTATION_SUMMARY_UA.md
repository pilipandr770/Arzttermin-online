# üéâ –©–æ –±—É–ª–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

## ‚úÖ DONE - –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. üîç –ü–æ—à—É–∫ –ª—ñ–∫–∞—Ä—ñ–≤ –∑ –∫—ñ–ª—å–∫—ñ—Å—Ç—é —Å–ª–æ—Ç—ñ–≤ (—è–∫ Doctolib)

**Endpoint:** `GET /api/search/doctors/available`

**–©–æ —Ü–µ –¥–∞—î:**
```
–†—ñ–≤–µ–Ω—å 1 (—Å–ø–∏—Å–æ–∫):
üßë‚Äç‚öïÔ∏è Dr. Anna M√ºller
–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ—Å—Ç—å: Dermatologe
–í—ñ–ª—å–Ω–∏—Ö —Ç–µ—Ä–º—ñ–Ω—ñ–≤: 24
[–ü–æ–∫–∞–∑–∞—Ç–∏ —Ç–µ—Ä–º—ñ–Ω–∏ ‚Üí]

‚Üì –∫–ª—ñ–∫

–†—ñ–≤–µ–Ω—å 2 (–¥–µ—Ç–∞–ª—ñ):
üìÖ –î–æ—Å—Ç—É–ø–Ω—ñ —Ç–µ—Ä–º—ñ–Ω–∏:
- 28.01 –≤ 09:00
- 28.01 –≤ 09:30
- 28.01 –≤ 10:00
...
```

**–ë—ñ–∑–Ω–µ—Å —Ü—ñ–Ω–Ω—ñ—Å—Ç—å:**
- ‚úÖ –ú–µ–Ω—à–µ –∫–æ–≥–Ω—ñ—Ç–∏–≤–Ω–æ–≥–æ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- ‚úÖ –®–≤–∏–¥—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- ‚úÖ –õ–µ–≥—à–µ –∑–Ω–∞–π—Ç–∏ –ª—ñ–∫–∞—Ä—è
- ‚úÖ –Ø–∫ —É Doctolib üëç

---

### 2. ‚ùå –°–∫–∞—Å—É–≤–∞–Ω–Ω—è —ñ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è

**Endpoints:**
- `POST /api/bookings/{id}/cancel` - —Å–∫–∞—Å—É–≤–∞—Ç–∏ —Ç–µ—Ä–º—ñ–Ω
- `POST /api/doctors/calendar/close-day` - –∑–∞–∫—Ä–∏—Ç–∏ –¥–µ–Ω—å
- `POST /api/doctors/calendar/open-day` - –≤—ñ–¥–∫—Ä–∏—Ç–∏ –¥–µ–Ω—å

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
- –ü–∞—Ü—ñ—î–Ω—Ç –º–æ–∂–µ —Å–∫–∞—Å—É–≤–∞—Ç–∏ –¥–æ –¥–µ–¥–ª–∞–π–Ω—É
- –õ—ñ–∫–∞—Ä –º–æ–∂–µ —Å–∫–∞—Å—É–≤–∞—Ç–∏ –∑–∞–≤–∂–¥–∏
- –õ—ñ–∫–∞—Ä –º–æ–∂–µ –∑–∞–∫—Ä–∏—Ç–∏ —Ü—ñ–ª–∏–π –¥–µ–Ω—å (–≤—ñ–¥–ø—É—Å—Ç–∫–∞)
- –°–ª–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–∞—î –≤—ñ–ª—å–Ω–∏–º

---

### 3. üìä –î–∞—à–±–æ—Ä–¥–∏

#### üë®‚Äç‚öïÔ∏è –î–∞—à–±–æ—Ä–¥ –ª—ñ–∫–∞—Ä—è
**Endpoint:** `GET /api/doctors/dashboard`

**–©–æ –ø–æ–∫–∞–∑—É—î:**
```
–°—å–æ–≥–æ–¥–Ω—ñ:
- 8 —Ç–µ—Ä–º—ñ–Ω—ñ–≤
- –ù–∞—Å—Ç—É–ø–Ω–∏–π: 14:30 - Max Mustermann

–¶–µ–π —Ç–∏–∂–¥–µ–Ω—å:
- –í—Å—å–æ–≥–æ —Å–ª–æ—Ç—ñ–≤: 160
- –ó–∞–±—Ä–æ–Ω—å–æ–≤–∞–Ω–æ: 120
- –í—ñ–ª—å–Ω–æ: 35
- % –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è: 75%
```

#### üßë‚Äçü¶± –î–∞—à–±–æ—Ä–¥ –ø–∞—Ü—ñ—î–Ω—Ç–∞
**Endpoint:** `GET /api/patient/dashboard`

**–©–æ –ø–æ–∫–∞–∑—É—î:**
```
–ú—ñ–π –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ç–µ—Ä–º—ñ–Ω:
- Dr. Anna M√ºller
- 30.01.2026 –æ 14:00
- Praxis Dr. M√ºller, Berlin
- [–°–∫–∞—Å—É–≤–∞—Ç–∏] [–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏]

–Ü—Å—Ç–æ—Ä—ñ—è –≤—ñ–∑–∏—Ç—ñ–≤:
- 15.01.2026 - Dr. Schmidt ‚úÖ

–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –ª—ñ–∫–∞—Ä—ñ:
- Dr. Weber (18 –≤—ñ–ª—å–Ω–∏—Ö —Å–ª–æ—Ç—ñ–≤)
- Dr. Klein (12 –≤—ñ–ª—å–Ω–∏—Ö —Å–ª–æ—Ç—ñ–≤)
```

---

### 4. üìà –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞

**Endpoint:** `GET /api/doctors/analytics?period=week`

**–ú–µ—Ç—Ä–∏–∫–∏:**
```
–°–ª–æ—Ç–∏:
- –ó–∞–ø–æ–≤–Ω–µ–Ω—ñ—Å—Ç—å: 75%

–¢–µ—Ä–º—ñ–Ω–∏:
- No-show rate: 5.3%
- Cancellation rate: 12.5%

–ü–æ –¥–Ω—è—Ö —Ç–∏–∂–Ω—è:
- –ü–æ–Ω–µ–¥—ñ–ª–æ–∫: 24 —Ç–µ—Ä–º—ñ–Ω–∏
- –í—ñ–≤—Ç–æ—Ä–æ–∫: 22 —Ç–µ—Ä–º—ñ–Ω–∏
...
```

**–ë—ñ–∑–Ω–µ—Å —Ü—ñ–Ω–Ω—ñ—Å—Ç—å:**
- ‚úÖ –í–∏–¥–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- ‚úÖ –ú–æ–∂–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ —Ä–æ–∑–∫–ª–∞–¥
- ‚úÖ –õ–µ–≥–∫–æ –ø—Ä–µ–∑–µ–Ω—Ç—É–≤–∞—Ç–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º

---

## üéØ –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î —Ä–∞–∑–æ–º

### User Flow - –ü–∞—Ü—ñ—î–Ω—Ç —à—É–∫–∞—î –ª—ñ–∫–∞—Ä—è

1. **–ü–æ—à—É–∫:**
   ```
   GET /api/search/doctors/available?speciality=dermatologe&city=Berlin
   
   –†–µ–∑—É–ª—å—Ç–∞—Ç:
   - Dr. M√ºller (24 —Å–ª–æ—Ç–∏) ‚Üê –Ω–∞–π–±—ñ–ª—å—à–µ
   - Dr. Schmidt (12 —Å–ª–æ—Ç—ñ–≤)
   - Dr. Weber (8 —Å–ª–æ—Ç—ñ–≤)
   ```

2. **–í–∏–±—ñ—Ä –ª—ñ–∫–∞—Ä—è:**
   ```
   –ö–ª—ñ–∫ –Ω–∞ "Dr. M√ºller" ‚Üí
   GET /api/search/doctors/{id}/slots
   
   –ü–æ–∫–∞–∑—É—î –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —á–∞—Å–∏:
   28.01: 09:00, 09:30, 10:00...
   29.01: 09:00, 09:30, 10:00...
   ```

3. **–ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è:**
   ```
   –ö–ª—ñ–∫ –Ω–∞ 28.01 –æ 14:00 ‚Üí
   POST /api/bookings (—ñ—Å–Ω—É—é—á–∏–π endpoint)
   ```

4. **–î–∞—à–±–æ—Ä–¥:**
   ```
   GET /api/patient/dashboard
   
   –ë–∞—á–∏—Ç—å:
   - –ù–∞—Å—Ç—É–ø–Ω–∏–π —Ç–µ—Ä–º—ñ–Ω: 28.01 –æ 14:00
   - –ö–Ω–æ–ø–∫–∞ "–°–∫–∞—Å—É–≤–∞—Ç–∏"
   ```

5. **–°–∫–∞—Å—É–≤–∞–Ω–Ω—è (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ):**
   ```
   POST /api/bookings/{id}/cancel
   
   –°–ª–æ—Ç –∑–Ω–æ–≤—É –≤—ñ–ª—å–Ω–∏–π ‚úÖ
   ```

---

## üíª –î–ª—è Frontend Developer

### –ü—Ä–∏–∫–ª–∞–¥ 1: –ü–æ–∫–∞–∑–∞—Ç–∏ –ª—ñ–∫–∞—Ä—ñ–≤
```javascript
// –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–ø–∏—Å–æ–∫
const response = await fetch('/api/search/doctors/available?city=Berlin');
const data = await response.json();

// –ü–æ–∫–∞–∑–∞—Ç–∏ –∫–∞—Ä—Ç–∫–∏
data.doctors.forEach(doctor => {
  renderDoctorCard({
    name: doctor.full_name,
    specialty: doctor.speciality_display,
    freeSlotsCount: doctor.free_slots_count,
    onShowSlots: () => loadDoctorSlots(doctor.id)
  });
});
```

### –ü—Ä–∏–∫–ª–∞–¥ 2: –ü–æ–∫–∞–∑–∞—Ç–∏ —Å–ª–æ—Ç–∏
```javascript
async function loadDoctorSlots(doctorId) {
  const res = await fetch(`/api/search/doctors/${doctorId}/slots`);
  const data = await res.json();
  
  // data.slots_by_date = {
  //   "2026-01-28": [{ start_time: "09:00", ... }],
  //   "2026-01-29": [...]
  // }
  
  renderSlotCalendar(data.slots_by_date);
}
```

### –ü—Ä–∏–∫–ª–∞–¥ 3: –°–∫–∞—Å—É–≤–∞—Ç–∏ —Ç–µ—Ä–º—ñ–Ω
```javascript
async function cancelBooking(bookingId) {
  const res = await fetch(`/api/bookings/${bookingId}/cancel`, {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ reason: 'Personal' })
  });
  
  if (res.ok) {
    alert('–¢–µ—Ä–º—ñ–Ω —Å–∫–∞—Å–æ–≤–∞–Ω–æ ‚úÖ');
    reloadDashboard();
  }
}
```

---

## üìä –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

| –§—ñ—á–∞ | Backend | Frontend | –°—Ç–∞—Ç—É—Å |
|------|---------|----------|--------|
| –ü–æ—à—É–∫ –∑ –∫—ñ–ª—å–∫—ñ—Å—Ç—é —Å–ª–æ—Ç—ñ–≤ | ‚úÖ | ‚è≥ | Backend –≥–æ—Ç–æ–≤–∏–π |
| 2-—Ä—ñ–≤–Ω–µ–≤–∏–π –≤–∏–±—ñ—Ä –ª—ñ–∫–∞—Ä—è | ‚úÖ | ‚è≥ | Backend –≥–æ—Ç–æ–≤–∏–π |
| –°–∫–∞—Å—É–≤–∞–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—É | ‚úÖ | ‚è≥ | Backend –≥–æ—Ç–æ–≤–∏–π |
| –ó–∞–∫—Ä–∏—Ç—Ç—è –¥–Ω—è | ‚úÖ | ‚è≥ | Backend –≥–æ—Ç–æ–≤–∏–π |
| –î–∞—à–±–æ—Ä–¥ –ª—ñ–∫–∞—Ä—è | ‚úÖ | ‚è≥ | Backend –≥–æ—Ç–æ–≤–∏–π |
| –î–∞—à–±–æ—Ä–¥ –ø–∞—Ü—ñ—î–Ω—Ç–∞ | ‚úÖ | ‚è≥ | Backend –≥–æ—Ç–æ–≤–∏–π |
| –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ | ‚úÖ | ‚è≥ | Backend –≥–æ—Ç–æ–≤–∏–π |

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

### –û–±–æ–≤'—è–∑–∫–æ–≤–æ (Must-have):
1. Frontend –¥–ª—è 2-—Ä—ñ–≤–Ω–µ–≤–æ–≥–æ –ø–æ—à—É–∫—É
2. UI –¥–ª—è —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—ñ–≤
3. –î–∞—à–±–æ—Ä–¥–∏ (–ª—ñ–∫–∞—Ä + –ø–∞—Ü—ñ—î–Ω—Ç)

### –ë–∞–∂–∞–Ω–æ (Nice-to-have):
1. Email –∑ .ics —Ñ–∞–π–ª–æ–º
2. SMS –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è
3. –ì—Ä–∞—Ñ—ñ–∫–∏ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏

### –ú–∞–π–±—É—Ç–Ω—î:
1. Google Calendar —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è
3. No-show tracking

---

## üí∞ –ë—ñ–∑–Ω–µ—Å Impact

### –î–ª—è –ø—Ä–æ–¥–∞–∂—É –ø—Ä–∞–∫—Ç–∏–∫–∞–º:

**–ë—É–ª–æ:**
"–£ –Ω–∞—Å —î –∫–∞–ª–µ–Ω–¥–∞—Ä —ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è"

**–°—Ç–∞–ª–æ:**
"–£ –Ω–∞—Å —î:
- ‚úÖ Doctolib-like –ø–æ—à—É–∫ (–ø–∞—Ü—ñ—î–Ω—Ç –±–∞—á–∏—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ª–æ—Ç—ñ–≤)
- ‚úÖ –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ (% –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è, no-show rate)
- ‚úÖ –ì–Ω—É—á–∫–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è (–∑–∞–∫—Ä–∏—Ç–∏ –¥–µ–Ω—å, –∑–º—ñ–Ω–∏—Ç–∏ —Ä–æ–∑–∫–ª–∞–¥)
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ –¥–∞—à–±–æ—Ä–¥–∏"

**–¶–µ –∑–≤—É—á–∏—Ç—å —è–∫ —Å–µ—Ä–π–æ–∑–Ω–∏–π –ø—Ä–æ–¥—É–∫—Ç** üéØ

---

## üìû –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

**Test Doctor Account:**
- Email: freedoctor@example.com
- Password: 123456

**–¢–µ—Å—Ç–æ–≤—ñ endpoint:**
```bash
# 1. –ü–æ—à—É–∫ –ª—ñ–∫–∞—Ä—ñ–≤
curl https://your-app.onrender.com/api/search/doctors/available

# 2. –°–ª–æ—Ç–∏ –ª—ñ–∫–∞—Ä—è
curl https://your-app.onrender.com/api/search/doctors/{doctor_id}/slots

# 3. –î–∞—à–±–æ—Ä–¥ (–∑ —Ç–æ–∫–µ–Ω–æ–º)
curl -H "Authorization: Bearer YOUR_TOKEN" \
     https://your-app.onrender.com/api/doctors/dashboard
```

---

## ‚úÖ Summary

**–ó—Ä–æ–±–ª–µ–Ω–æ –∑–∞ —Ü—é —Å–µ—Å—ñ—é:**
- 3 –Ω–æ–≤—ñ endpoints –¥–ª—è –ø–æ—à—É–∫—É
- 3 –Ω–æ–≤—ñ endpoints –¥–ª—è —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è
- 2 –ø–æ–∫—Ä–∞—â–µ–Ω—ñ –¥–∞—à–±–æ—Ä–¥–∏
- 1 endpoint –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏
- –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

**–ë—ñ–∑–Ω–µ—Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
MVP —Ç–µ–ø–µ—Ä –º–∞—î –∫–ª—é—á–æ–≤—ñ —Ñ—ñ—á—ñ, —è–∫—ñ —Ä–æ–±–ª—è—Ç—å –π–æ–≥–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø—Ä–æ–º–æ–∂–Ω–∏–º.

**–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å:**
Backend 100% –≥–æ—Ç–æ–≤–∏–π. –ü–æ—Ç—Ä—ñ–±–µ–Ω –ª–∏—à–µ frontend.

üéâ **–ú–æ–ª–æ–¥–µ—Ü—å!**
